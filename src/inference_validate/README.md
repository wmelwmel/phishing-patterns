# Инструкция по запуску пайплайна `inference_validate`

### 1. Копировать проект
Скопировать из репозитория **только папку** `inference_validate` со всем её содержимым.  
В этой папке находятся все необходимые скрипты и примеры данных.

---

### 2. Создать и активировать виртуальное окружение

В корне папки выполнить команду:

```
python -m venv .venv
```

**Windows (PowerShell):**
```
.venv\Scripts\activate
```

**macOS / Linux:**
```
source .venv/bin/activate
```

---


### 3. В активированном окружении установить все необходимые библиотеки:

```
pip install -r requirements.txt
```

---

### 4. Создать файл `.env`

В корне папки создать файл `.env`, используя шаблон `.env_example`.  
Заполнить все необходимые параметры.

---

### 5. Настроить параметры в `config.py`

В файле `config.py` задаются основные параметры для обработки.

**Примечание:**  
`DATA_DIR` по умолчанию указывает на папку data в корне проекта.  
Для примера в проекте есть папка `data_example`, где находятся:
- папка с примерами .eml файлов,  
- папка для сохранения выбранных моделей и результатов их работы.  
- результаты сохраняются по умолчанию в файл `inference_output.json` для каждой модели отдельно.

---

### 6. После настройки окружения, `.env` и параметров в `config.py` запустить скрипт:

```
python inference_run.py
```

---

### 7. Структура проекта

```
inference_validate/
│
├── data_example/
│   ├── inference_emls/
│   └── mlflow_models/
│       └── run_id_example/
│           ├── setfit_model/
│           └── inference_output.json
├── .env_example
├── config.py # хранит параметры
├── constants.py # константы
├── inference_run.py # запуск инференса
├── pipelines.py # логика подготовки и обработки данных
├── settings.py
├── requirements.txt
└── README.md
```
